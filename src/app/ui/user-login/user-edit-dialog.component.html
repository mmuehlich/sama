<div>

  <div class="tabs">
    <ul>
      <li class="{{active=='user' ? 'is-active' : ''}}">
        <a>Meine Daten</a>
      </li>

      <li class="{{active=='conf' ? 'is-active' : ''}}">
        <a>Zusage</a>
      </li>

      <li class="{{active=='guests' ? 'is-active' : ''}}">
        <a>Gästedaten</a>
      </li>

      <li class="{{active=='remarks' ? 'is-active' : ''}}">
        <a>Anmerkungen</a>
      </li>

      <!-- <li class="{{active=='music' ? 'is-active' : ''}}">
        <a (click)="active='music';">Musikwunsch</a>
      </li> -->

    </ul>
  </div>

  <!-- schon zugesagt  - test ?? -->


  <div *ngIf="active=='user'">

    <h2>Name</h2>
    <div style="padding-left: 20px">
      <input [(ngModel)]="guest.name" placeholder="Name" class="input">
    </div>

    <h2>Kontakt</h2>
    <div style="padding-left: 20px">
      <input [(ngModel)]="guest.email" placeholder="eMail" class="input">
      <input [(ngModel)]="guest.phone" placeholder="Telefon" class="input">
      <textarea style="height: 100px;" [(ngModel)]="guest.address" placeholder="Adresse" class="input"></textarea>
    </div>

    <button class="button is-success" (click)="updateUserAndNext(guest, 'conf');" style="float:right; margin-right: 20px">weiter</button>
    <button class="button is-secondary" (click)="close();" style="float:right; margin-right: 20px;">abbrechen</button>

  </div>



  <div *ngIf="active=='conf'" style="min-height: 200px">
    <br/>
    <span style="font-size:larger;padding-left: 20px;">Natürlich kommen wir zur Hochzeit!</span>
    <br/>
  
  
    <div class="left-center-right" style="margin-top: 20px">
  
      Wir sind
      <input type="number" [(ngModel)]="guest.adultCount" class="input" style="width: 50px; vertical-align: baseline; margin-left: 10px; margin-right: 10px;">Erwachsene und
      <input type="number" [(ngModel)]="guest.childCount" class="input" style="width: 50px; vertical-align: baseline; margin-left: 10px; margin-right: 10px;">Kinder
  
    </div>
  
  
    <button class="button is-success" (click)="confirmUser(guest);close();" style="float:right; margin-right: 20px;">speichern</button>
    <button class="button is-success" (click)="confirmUserAndNext(guest, 'guests');" style="float:right; margin-right: 20px">weiter</button>
    <button class="button is-secondary" (click)="close();" style="float:right; margin-right: 20px;">abbrechen</button>
  
  </div>



  <div *ngIf="active=='guests'">

    <div *ngIf="guest.state == '  '">
      (nicht zugesagt, keine Gästedaten notwendig.)
    </div>

    <div *ngIf="guest.state == 'confirmed'">

      <div style="padding-left: 20px">
        <span>Erwachsene</span>
        <div *ngFor="let adult of guest.adults">
          <input [(ngModel)]="adult.name" placeholder="Name" class="input" style="margin-left: 20px">
        </div>
        <span>Kinder</span>
        <div *ngFor="let child of guest.children">
          <input [(ngModel)]="child.name" placeholder="Name" class="input" style="margin-left: 20px">
        </div>
      </div>

    </div>

    <button class="button is-success" (click)="updateUser(guest);close();" style="float:right; margin-right: 20px;">speichern</button>
    <button class="button is-success" (click)="updateUserAndNext(guest, 'remarks');" style="float:right; margin-right: 20px">weiter</button>
    <button class="button is-secondary" (click)="close();" style="float:right; margin-right: 20px;">abbrechen</button>

  </div>



  <div *ngIf="active=='remarks'">

    <div *ngIf="guest.state == 'notComming'">
      (nicht zugesagt)
    </div>

    <div *ngIf="guest.state == 'confirmed'">
      Sollten wir irgendwelche besonderen Wünche berücksichtigen? Zum Beispiel vegetarisches Essen, Allergien, Kindermenu, ....?

      <textarea [(ngModel)]="guest.remarks" style="width: 90%; height: 100px;margin-left: 20px"></textarea>
    </div>


    <button class="button is-success" (click)="updateUser(guest);close();" style="float:right; margin-right: 20px;">speichern</button>
    <button class="button is-secondary" (click)="close();" style="float:right; margin-right: 20px;">abbrechen</button>


  </div>

</div>